<?xml version="1.0" encoding="utf-8"?>
<CheatTable CheatEngineTableVersion="42">
  <CheatEntries/>
  <UserdefinedSymbols/>
  <LuaScript>-- Definitions: (DO NOT CHANGE!)
openProcess("Piano-FX-Pro.exe")
Microseconds="Piano-FX-Pro.exe+941650"
Ticks="Piano-FX-Pro.exe+9416F4"
Resolution="Piano-FX-Pro.exe+93D318"
Volume="Piano-FX-Pro.exe+941508"
Mute="Piano-FX-Pro.exe+9414F6"
PlaybackSpeed="Piano-FX-Pro.exe+9414F8"
NoteSpeed="Piano-FX-Pro.exe+941500"
OffsetX="Piano-FX-Pro.exe+941520"
OffsetY="Piano-FX-Pro.exe+941524"
Zoom="Piano-FX-Pro.exe+941528"
StartKey="Piano-FX-Pro.exe+941424"
EndKey="Piano-FX-Pro.exe+941428"
KeyMode="Piano-FX-Pro.exe+941420"
Width="Piano-FX-Pro.exe+93D310"
Height="Piano-FX-Pro.exe+93D314"
Paused="Piano-FX-Pro.exe+9414F5"
Keyboard="Piano-FX-Pro.exe+941519"
VisualizePitchBends="Piano-FX-Pro.exe+941578"
PhigrosMode="Piano-FX-Pro.exe+941550"
ShowMarkers="Piano-FX-Pro.exe+941549"
TickBased="Piano-FX-Pro.exe+941548"
DisableUI="Piano-FX-Pro.exe+9415A2"
LimitFPS="Piano-FX-Pro.exe+9414C9"
Caption="Piano-FX-Pro.exe+93D320"
MS=1e+3
S=1e+6
LastUpdate=os.time()*S+os.clock()*S
EXE=executeCodeLocalEx
hPFX=EXE("FindWindowA","PFX",0)
hGFX=EXE("FindWindowExA",hPFX,0,"PFXGFX",0)
hGDI=EXE("FindWindowA","PFXGDI",0)
PFXdc=EXE("GetDC",hGFX)
GDIdc=EXE("GetDC",hGDI)
SRCCOPY=0x00CC0020
SRCPAINT=0x00EE0086
SRCAND=0x008800C6
SRCINVERT=0x00660046
SRCERASE=0x00440328
NOTSRCCOPY=0x00330008
NOTSRCERASE=0x001100A6
MERGECOPY=0x00C000CA
MERGEPAINT=0x00BB0226
PATCOPY=0x00F00021
PATPAINT=0x00FB0A09
PATINVERT=0x005A0049
DSTINVERT=0x00550009
BLACKNESS=0x00000042
WHITENESS=0x00FF0062
BS_SOLID=0
BS_NULL=1
BS_HOLLOW=BS_NULL
BS_HATCHED=2
BS_PATTERN=3
BS_INDEXED=4
BS_DIBPATTERN=5
BS_DIBPATTERNPT=6
BS_PATTERN8X8=7
BS_DIBPATTERN8X8=8
BS_MONOPATTERN=9
HS_HORIZONTAL=0
HS_VERTICAL=1
HS_FDIAGONAL=2
HS_BDIAGONAL=3
HS_CROSS=4
HS_DIAGCROSS=5
HS_API_MAX=12
PS_SOLID=0
PS_DASH=1
PS_DOT=2
PS_DASHDOT=3
PS_DASHDOTDOT=4
PS_NULL=5
PS_INSIDEFRAME=6
PS_USERSTYLE=7
PS_ALTERNATE=8
PS_STYLE_MASK=0x0000000F
PS_ENDCAP_ROUND=0x00000000
PS_ENDCAP_SQUARE=0x00000100
PS_ENDCAP_FLAT=0x00000200
PS_ENDCAP_MASK=0x00000F00
PS_JOIN_ROUND=0x00000000
PS_JOIN_BEVEL=0x00001000
PS_JOIN_MITER=0x00002000
PS_JOIN_MASK=0x0000F000
PS_COSMETIC=0x00000000
PS_GEOMETRIC=0x00010000
PS_TYPE_MASK=0x000F0000
ALIGN_LEFT=0x0100
ALIGN_CENTER=0x0200
ALIGN_RIGHT=0x0300
ALIGN_TOP=0x0001
ALIGN_MIDDLE=0x0002
ALIGN_BOTTOM=0x0003
WHITE_BRUSH=0
LTGRAY_BRUSH=1
GRAY_BRUSH=2
DKGRAY_BRUSH=3
BLACK_BRUSH=4
NULL_BRUSH=5
HOLLOW_BRUSH=NULL_BRUSH
WHITE_PEN=6
BLACK_PEN=7
NULL_PEN=8
MEM=createMemoryStream()
function GetMicroseconds()
return readQword(Microseconds)
end
function GetTicks()
return readInteger(Ticks,true)
end
function GetPPQ()
return readInteger(Resolution)
end
function GetVolume()
return readDouble(Volume)
end
function GetMute()
return readByte(Mute)
end
function GetPlaybackSpeed()
return readDouble(PlaybackSpeed)
end
function GetNoteSpeed()
return readDouble(NoteSpeed)
end
function GetStartKey()
return readInteger(StartKey)
end
function GetEndKey()
return readInteger(EndKey)
end
function GetKeyMode()
return readInteger(KeyMod)
end
function GetOffsetX()
return readFloat(OffsetX)
end
function GetOffsetY()
return readFloat(OffsetY)
end
function GetZoom()
return readFloat(Zoom)
end
function GetWidth()
return readInteger(Width)
end
function GetHeight()
return readInteger(Height)
end
function GetPaused()
return readByte(Paused)
end
function GetKeyboard()
return readByte(Keyboard)
end
function GetVisualizePitchBends()
return readByte(VisualizePitchBends)
end
function GetPhigrosMode()
return readByte(PhigrosMode)
end
function GetShowMarkers()
return readByte(ShowMarkers)
end
function GetTickBased()
return readByte(TickBased)
end
function GetDisableUI()
return readByte(DisableUI)
end
function GetLimitFPS()
return readByte(LimitFPS)
end
function GetCaption()
return readString(Caption)
end
function SetMicroseconds(VAL)
writeQword(Microseconds,VAL)
end
function SetVolume(VAL)
writeDouble(Volume,VAL)
end
function SetMute(VAL)
writeByte(Mute,VAL)
end
function SetPlaybackSpeed(VAL)
writeDouble(PlaybackSpeed,VAL)
end
function SetNoteSpeed(VAL)
writeDouble(NoteSpeed,VAL)
end
function SetStartKey(VAL)
writeInteger(StartKey,VAL)
end
function SetEndKey(VAL)
writeInteger(EndKey,VAL)
end
function SetKeyMode(VAL)
writeInteger(KeyMode,VAL)
end
function SetOffsetX(VAL)
writeFloat(OffsetX,VAL)
end
function SetOffsetY(VAL)
writeFloat(OffsetY,VAL)
end
function SetZoom(VAL)
writeFloat(Zoom,VAL)
end
function SetWidth(VAL)
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hPFX,MEM.Memory)
MEM.Position=0
local Px=MEM.readDword()
local Py=MEM.readDword()
local Pw=MEM.readDword()-Px
local Ph=MEM.readDword()-Py
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hGFX,MEM.Memory)
MEM.Position=0
local Gx=MEM.readDword()
local Gy=MEM.readDword()
local Gw=MEM.readDword()-Gx
local Gh=MEM.readDword()-Gy
local Margin=Pw-Gw
MEM.Position=0
EXE("SetWindowPos",hPFX,-2,Px,Py,VAL+Margin,Ph,0)
end
function SetHeight(VAL)
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hPFX,MEM.Memory)
MEM.Position=0
local Px=MEM.readDword()
local Py=MEM.readDword()
local Pw=MEM.readDword()-Px
local Ph=MEM.readDword()-Py
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hGFX,MEM.Memory)
MEM.Position=0
local Gx=MEM.readDword()
local Gy=MEM.readDword()
local Gw=MEM.readDword()-Gx
local Gh=MEM.readDword()-Gy
local Margin=Ph-Gh
MEM.Position=0
EXE("SetWindowPos",hPFX,-2,Px,Py,Pw,VAL+Margin,0)
end
function SetPaused(VAL)
writeByte(Paused,VAL)
end
function SetKeyboard(VAL)
writeByte(Keyboard,VAL)
end
function SetVisualizePitchBends(VAL)
writeByte(VisualizePitchBends,VAL)
end
function SetPhigrosMode(VAL)
writeByte(PhigrosMode,VAL)
end
function SetShowMarkers(VAL)
writeByte(ShowMarkers,VAL)
end
function SetTickBased(VAL)
writeByte(TickBased,VAL)
end
function SetDisableUI(VAL)
writeByte(DisableUI,VAL)
end
function SetLimitFPS(VAL)
writeByte(LimitFPS,VAL)
end
function SetCaption(VAL)
writeByte(getAddress(Caption)+#VAL,0);writeString(Caption,VAL)
end
function EaseLinear(x)
return x
end
function EaseInSine(x)
return 1-math.cos((x*math.pi)/2)
end
function EaseOutSine(x)
return math.sin((x*math.pi)/2)
end
function EaseInOutSine(x)
return -(math.cos(math.pi*x)-1)/2
end
function EaseInQuad(x)
return x*x
end
function EaseOutQuad(x)
return 1-(1-x)*(1-x)
end
function EaseInOutQuad(x)
return x&lt;0.5 and 2*x*x or 1-math.pow(-2*x+2,2)/2
end
function EaseInCubic(x)
return x*x*x
end
function EaseOutCubic(x)
return 1-math.pow(1-x,3)
end
function EaseInOutCubic(x)
return x&lt;0.5 and 4*x*x*x or 1-math.pow(-2*x+2,3)/2
end
function EaseInQuart(x)
return x*x*x*x
end
function EaseOutQuart(x)
return 1-math.pow(1-x,4)
end
function EaseInOutQuart(x)
return x&lt;0.5 and 8*x*x*x*x or 1-math.pow(-2*x+2,4)/2
end
function EaseInQuint(x)
return x*x*x*x*x
end
function EaseOutQuint(x)
return 1-math.pow(1-x,5)
end
function EaseInOutQuint(x)
return x&lt;0.5 and 16*x*x*x*x*x or 1-math.pow(-2*x+2,5)/2
end
function EaseInExpo(x)
return x == 0 and 0 or math.pow(2,10*x-10)
end
function EaseOutExpo(x)
return x == 1 and 1 or 1-math.pow(2,-10*x)
end
function EaseInOutExpo(x)
return x == 0 and 0 or x == 1 and 1 or x&lt;0.5 and math.pow(2,20*x-10)/2 or (2-math.pow(2,-20*x+10))/2
end
function EaseInCirc(x)
return 1-math.sqrt(1-math.pow(x,2))
end
function EaseOutCirc(x)
return math.sqrt(1-math.pow(x-1,2))
end
function EaseInOutCirc(x)
return x&lt;0.5 and (1-math.sqrt(1-math.pow(2*x,2)))/2 or (math.sqrt(1-math.pow(-2*x+2,2))+1)/2
end
function EaseInBack(x)
local c1=1.70158
local c3=c1+1
return c3*x*x*x-c1*x*x
end
function EaseOutBack(x)
local c1=1.70158
local c3=c1+1
return 1+c3*math.pow(x-1,3)+c1*math.pow(x-1,2)
end
function EaseInOutBack(x)
local c1=1.70158
local c2=c1*1.525
return x&lt;0.5 and (math.pow(2*x,2)*((c2+1)*2*x-c2))/2 or (math.pow(2*x-2,2)*((c2+1)*(x*2-2)+c2)+2)/2
end
function EaseInElastic(x)
local c4=(2*math.pi)/3
return x == 0 and 0 or x == 1 and 1 or -math.pow(2,10*x-10)*math.sin((x*10-10.75)*c4)
end
function EaseOutElastic(x)
local c4=(2*math.pi)/3
return x == 0 and 0 or x == 1 and 1 or math.pow(2,-10*x)*math.sin((x*10-0.75)*c4)+1
end
function EaseInOutElastic(x)
local c5=(2*math.pi)/4.5
return x == 0 and 0 or x == 1 and 1 or x&lt;0.5 and -(math.pow(2,20*x-10)*math.sin((20*x-11.125)*c5))/2 or (math.pow(2,-20*x+10)*math.sin((20*x-11.125)*c5))/2+1
end
function EaseInBounce(x)
return 1-EaseOutBounce(1-x)
end
function EaseOutBounce(x)
local n1=7.5625
local d1=2.75
if x&lt;1/d1 then
return n1*x*x
elseif x&lt;2/d1 then
return n1*(x-1.5/d1)*(x-1.5/d1)+0.75
elseif x&lt;2.5/d1 then
return n1*(x-2.25/d1)*(x-2.25/d1)+0.9375
else
return n1*(x-2.625/d1)*(x-2.625/d1)+0.984375
end
end
function EaseInOutBounce(x)
return x&lt;0.5 and (1-EaseOutBounce(1-2*x))/2 or (1+EaseOutBounce(2*x-1))/2
end
function SmoothAnimationByTime(StartValue,EndValue,StartTime,EndTime,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetMicroseconds()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
while (GetMicroseconds() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetMicroseconds()-StartTime)/(EndTime-StartTime))*(EndValue-StartValue))
coroutine.yield()
end
SetValueFunction(EndValue)
end)
end
function TargetAnimationByTime(GetValueFunction,TargetValue,StartTime,EndTime,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetMicroseconds()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
local StartValue=GetValueFunction()
while (GetMicroseconds() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetMicroseconds()-StartTime)/(EndTime-StartTime))*(TargetValue-StartValue))
coroutine.yield()
end
SetValueFunction(TargetValue)
end)
end
function SlicedSmoothAnimationByTime(StartValue,EndValue,StartTime,EndTime,Spacing,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetMicroseconds()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
local SliceIndex=1
while (GetMicroseconds() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetMicroseconds()-StartTime)/(EndTime-StartTime))*(EndValue-StartValue))
while (GetMicroseconds()&lt;StartTime+Spacing*SliceIndex and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
SliceIndex=SliceIndex+1
end
SetValueFunction(EndValue)
end)
end
function SlicedTargetAnimationByTime(GetValueFunction,TargetValue,StartTime,EndTime,Spacing,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetMicroseconds()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
local StartValue=GetValueFunction()
local SliceIndex=1
while (GetMicroseconds() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetMicroseconds()-StartTime)/(EndTime-StartTime))*(TargetValue-StartValue))
while (GetMicroseconds()&lt;StartTime+Spacing*SliceIndex and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
SliceIndex=SliceIndex+1
end
SetValueFunction(TargetValue)
end)
end
function InstantaneousAnimationByTime(Value,Time,SetValueFunction)
return coroutine.create(function()
while (GetMicroseconds()&lt;Time and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
SetValueFunction(Value)
end)
end
function SmoothAnimationByTick(StartValue,EndValue,StartTime,EndTime,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetTicks()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
while (GetTicks() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetTicks()-StartTime)/(EndTime-StartTime))*(EndValue-StartValue))
coroutine.yield()
end
SetValueFunction(EndValue)
end)
end
function TargetAnimationByTick(GetValueFunction,TargetValue,StartTime,EndTime,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetTicks()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
local StartValue=GetValueFunction()
while (GetTicks() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetTicks()-StartTime)/(EndTime-StartTime))*(TargetValue-StartValue))
coroutine.yield()
end
SetValueFunction(TargetValue)
end)
end
function SlicedSmoothAnimationByTick(StartValue,EndValue,StartTime,EndTime,Spacing,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetTicks()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
local SliceIndex=1
while (GetTicks() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetTicks()-StartTime)/(EndTime-StartTime))*(EndValue-StartValue))
while (GetTicks()&lt;StartTime+Spacing*SliceIndex and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
SliceIndex=SliceIndex+1
end
SetValueFunction(EndValue)
end)
end
function SlicedTargetAnimationByTick(GetValueFunction,TargetValue,StartTime,EndTime,Spacing,EasingFunction,SetValueFunction)
return coroutine.create(function()
while (GetTicks()&lt;StartTime and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
local StartValue=GetValueFunction()
local SliceIndex=1
while (GetTicks() &lt;= EndTime and GetTicks()&lt;TotalTicks) do
SetValueFunction(StartValue+EasingFunction((GetTicks()-StartTime)/(EndTime-StartTime))*(TargetValue-StartValue))
while (GetTicks()&lt;StartTime+Spacing*SliceIndex and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
SliceIndex=SliceIndex+1
end
SetValueFunction(TargetValue)
end)
end
function InstantaneousAnimationByTick(Value,Time,SetValueFunction)
return coroutine.create(function()
while (GetTicks()&lt;Time and GetTicks()&lt;TotalTicks) do
coroutine.yield()
end
SetValueFunction(Value)
end)
end
function CenterX(Zoom)
return (GetWidth()*(1-Zoom))/2
end
function CenterY(Zoom)
return -(GetHeight()*(1-Zoom))/2
end
function RunThreads(Threads)
local Working=true
while Working do
Working=false
for _,ThisThread in pairs(Threads) do
if coroutine.status(ThisThread) ~= "dead" then
coroutine.resume(ThisThread)
Working=true
end
end
end
end
function UpdateShaderFPSDisplay()
if DisplayShaderFPS then
local FrameTime=(os.time()*S+os.clock()*S)-LastUpdate+1
local FPS=math.ceil((S/FrameTime)*100.0)/100.0
local Text="Shader FPS: "..FPS
local Font=EXE("CreateFontA",
16,-- FontHeight
0,-- FontWidth
0,-- Escapement
0,-- Orientation
400,-- FontWeight
0,-- Italic
0,-- Underline
0,-- StrikeOut
1,-- CharSet
0,-- OutPrecision
0,-- ClipPrecision
0,-- Quality
0,-- PitchAndFamily
"Fixedsys")-- FaceName
EXE("SelectObject",GDIdc,Font)
EXE("SetBkMode",GDIdc,1)
EXE("SetTextColor",GDIdc,0x000000)
EXE("TextOutA",GDIdc,16,16,Text,#Text)
EXE("SetTextColor",GDIdc,0xFFFFFF)
EXE("TextOutA",GDIdc,15,15,Text,#Text)
EXE("DeleteObject",Font)
end
LastUpdate=os.time()*S+os.clock()*S
end
function RunShaderByTime(StartTime,EndTime,ShaderFunction,...)
local EffectParameters={...}
if hGDI==0 then return end
createThread(function()
while GetMicroseconds()&lt;StartTime and GetTicks()&lt;TotalTicks do end
while GetMicroseconds()&lt;=EndTime and GetTicks()&lt;TotalTicks do
ShaderFunction((GetMicroseconds()-StartTime)/(EndTime-StartTime),table.unpack(EffectParameters))
UpdateShaderFPSDisplay()
end
end).resume()
end
function RunShaderByTick(StartTime,EndTime,ShaderFunction,...)
local EffectParameters={...}
if hGDI==0 then return end
createThread(function()
while GetTicks()&lt;StartTime and GetTicks()&lt;TotalTicks do end
while GetTicks()&lt;=EndTime and GetTicks()&lt;TotalTicks do
ShaderFunction((GetTicks()-StartTime)/(EndTime-StartTime),table.unpack(EffectParameters))
UpdateShaderFPSDisplay()
end
end).resume()
end
function RunShaderByTimeAndWait(StartTime,EndTime,ShaderFunction,...)
local EffectParameters={...}
if hGDI==0 then return end
while GetMicroseconds()&lt;StartTime and GetTicks()&lt;TotalTicks do end
while GetMicroseconds()&lt;=EndTime and GetTicks()&lt;TotalTicks do
ShaderFunction((GetMicroseconds()-StartTime)/(EndTime-StartTime),table.unpack(EffectParameters))
UpdateShaderFPSDisplay()
end
end
function RunShaderByTickAndWait(StartTime,EndTime,ShaderFunction,...)
local EffectParameters={...}
if hGDI==0 then return end
while GetTicks()&lt;StartTime and GetTicks()&lt;TotalTicks do end
while GetTicks()&lt;=EndTime and GetTicks()&lt;TotalTicks do
ShaderFunction((GetTicks()-StartTime)/(EndTime-StartTime),table.unpack(EffectParameters))
UpdateShaderFPSDisplay()
end
end
-- Custom Definitions: (Version: 3.01)
FullScreen="Piano-FX-Pro.exe+94151B"
ShowToolbar="Piano-FX-Pro.exe+941518"
AlwaysShow="Piano-FX-Pro.exe+94142C"
AllowPause="Piano-FX-Pro.exe+9414F0"
AllowSkip="Piano-FX-Pro.exe+93DE20"
ffmpeg="Piano-FX-Pro.exe+941579"
-- GDI Shaders:
function PlainShader(t)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,SRCCOPY)
end
function DarkBlankShader(t)
EXE("PatBlt",GDIdc,0,0,GetWidth(),GetHeight(),BLACKNESS)
end
function BrightBlankShader(t)
EXE("PatBlt",GDIdc,0,0,GetWidth(),GetHeight(),WHITENESS)
end
function WaveShader(t,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,GetWidth(),MaxWaveHeight,PFXdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
end
function WaveGlitchShader(t,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local i=0
while i&lt;=GetHeight() do
if math.random(0,1)==0 then
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,GetWidth(),MaxWaveHeight,PFXdc,0,i,SRCPAINT)
else
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,GetWidth(),MaxWaveHeight,PFXdc,0,i,SRCAND)
end
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
end
function GlitchShader(t,MaxSectionWidth,MinSectionWidth,ShiftingAmount)
if MaxSectionWidth==nil then MaxSectionWidth=150 end
if MinSectionWidth==nil then MinSectionWidth=10 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local i=0
while i&lt;=GetWidth() do
if math.random(0,1)==0 then
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCPAINT)
else
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCAND)
end
i=i+math.random(MinSectionWidth,MaxSectionWidth)
end
end
function ColorBurnShader(t,R,G,B)
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function ColorOffsetShader(t,OffsettingAmount)
if OffsettingAmount==nil then OffsettingAmount=20 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Brush=EXE("CreateSolidBrush",0x00FFFF)
EXE("SelectObject",MEMdc2,Brush)
EXE("PatBlt",MEMdc2,0,0,W,H,PATINVERT)
EXE("DeleteObject",Brush)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Brush=EXE("CreateSolidBrush",0xFF00FF)
EXE("SelectObject",MEMdc2,Brush)
EXE("PatBlt",MEMdc2,0,0,W,H,PATINVERT)
EXE("DeleteObject",Brush)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Brush=EXE("CreateSolidBrush",0xFFFF00)
EXE("SelectObject",MEMdc2,Brush)
EXE("PatBlt",MEMdc2,0,0,W,H,PATINVERT)
EXE("DeleteObject",Brush)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function ColorOffsetWaveShader(t,OffsettingAmount,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if OffsettingAmount==nil then OffsettingAmount=20 end
if MaxWaveHeight==nil then MaxWaveHeight=40 end
if MinWaveHeight==nil then MinWaveHeight=10 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Brush=EXE("CreateSolidBrush",0x00FFFF)
EXE("SelectObject",MEMdc2,Brush)
EXE("PatBlt",MEMdc2,0,0,W,H,PATINVERT)
EXE("DeleteObject",Brush)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Brush=EXE("CreateSolidBrush",0xFF00FF)
EXE("SelectObject",MEMdc2,Brush)
EXE("PatBlt",MEMdc2,0,0,W,H,PATINVERT)
EXE("DeleteObject",Brush)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Brush=EXE("CreateSolidBrush",0xFFFF00)
EXE("SelectObject",MEMdc2,Brush)
EXE("PatBlt",MEMdc2,0,0,W,H,PATINVERT)
EXE("DeleteObject",Brush)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
local i=0
while i&lt;=H do
EXE("BitBlt",MEMdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,PFXdc,0,i,SRCAND)
EXE("BitBlt",GDIdc,0,i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function BetterColorOffsetShader(t,OffsettingAmount)
if OffsettingAmount==nil then OffsettingAmount=5 end
local W=GetWidth()
local H=GetHeight()
local MEMdc_R=EXE("CreateCompatibleDC",GDIdc)
local BMP_R=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_G=EXE("CreateCompatibleDC",GDIdc)
local BMP_G=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_B=EXE("CreateCompatibleDC",GDIdc)
local BMP_B=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_Main=EXE("CreateCompatibleDC",GDIdc)
local BMP_Main=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc_R,BMP_R)
local Brush=EXE("CreateSolidBrush",0x0000FF)
EXE("SelectObject",MEMdc_R,Brush)
EXE("PatBlt",MEMdc_R,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_R,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_G,BMP_G)
local Brush=EXE("CreateSolidBrush",0x00FF00)
EXE("SelectObject",MEMdc_G,Brush)
EXE("PatBlt",MEMdc_G,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_G,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_B,BMP_B)
local Brush=EXE("CreateSolidBrush",0xFF0000)
EXE("SelectObject",MEMdc_B,Brush)
EXE("PatBlt",MEMdc_B,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_B,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_Main,BMP_Main)
EXE("BitBlt",MEMdc_Main,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc_R,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc_G,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),math.random(-math.abs(OffsettingAmount),math.abs(OffsettingAmount)),W,H,MEMdc_B,0,0,SRCPAINT)
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc_Main,0,0,SRCCOPY)
EXE("DeleteObject",BMP_R)
EXE("DeleteDC",MEMdc_R)
EXE("DeleteObject",BMP_G)
EXE("DeleteDC",MEMdc_G)
EXE("DeleteObject",BMP_B)
EXE("DeleteDC",MEMdc_B)
EXE("DeleteObject",BMP_Main)
EXE("DeleteDC",MEMdc_Main)
end
function BetterColorOffsetWaveShader(t,OffsettingAmount,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if OffsettingAmount==nil then OffsettingAmount=5 end
if MaxWaveHeight==nil then MaxWaveHeight=40 end
if MinWaveHeight==nil then MinWaveHeight=10 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc_R=EXE("CreateCompatibleDC",GDIdc)
local BMP_R=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_G=EXE("CreateCompatibleDC",GDIdc)
local BMP_G=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_B=EXE("CreateCompatibleDC",GDIdc)
local BMP_B=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_Main=EXE("CreateCompatibleDC",GDIdc)
local BMP_Main=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc_R,BMP_R)
local Brush=EXE("CreateSolidBrush",0x0000FF)
EXE("SelectObject",MEMdc_R,Brush)
EXE("PatBlt",MEMdc_R,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_R,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_G,BMP_G)
local Brush=EXE("CreateSolidBrush",0x00FF00)
EXE("SelectObject",MEMdc_G,Brush)
EXE("PatBlt",MEMdc_G,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_G,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_B,BMP_B)
local Brush=EXE("CreateSolidBrush",0xFF0000)
EXE("SelectObject",MEMdc_B,Brush)
EXE("PatBlt",MEMdc_B,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_B,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_Main,BMP_Main)
local i=0
while i&lt;=H do
EXE("BitBlt",MEMdc_Main,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc_R,0,i,SRCPAINT)
EXE("BitBlt",MEMdc_Main,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc_G,0,i,SRCPAINT)
EXE("BitBlt",MEMdc_Main,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc_B,0,i,SRCPAINT)
EXE("BitBlt",GDIdc,0,i,W,MaxWaveHeight,MEMdc_Main,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP_R)
EXE("DeleteDC",MEMdc_R)
EXE("DeleteObject",BMP_G)
EXE("DeleteDC",MEMdc_G)
EXE("DeleteObject",BMP_B)
EXE("DeleteDC",MEMdc_B)
EXE("DeleteObject",BMP_Main)
EXE("DeleteDC",MEMdc_Main)
end
function MEMZTunnelShader(t,TunnelDelay,TunnelScale,ClearScreenChance,FlipColorChance)
if TunnelDelay==nil then TunnelDelay=10 end
if TunnelScale==nil then TunnelScale=0.9 end
if ClearScreenChance==nil then ClearScreenChance=40 end
if FlipColorChance==nil then FlipColorChance=4 end
if math.random(0,ClearScreenChance)==0 or layer==nil or delay==nil then
if math.random(0,FlipColorChance)==0 then
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,NOTSRCCOPY)
else
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,SRCCOPY)
end
layer=1
delay=0
else
delay=delay+1
if delay&gt;=TunnelDelay then
layer=layer*TunnelScale
delay=0
end
if math.random(0,FlipColorChance)==0 then
EXE("StretchBlt",GDIdc,math.floor((GetWidth()-GetWidth()*layer)/2),math.floor((GetHeight()-GetHeight()*layer)/2),math.floor(GetWidth()*layer),math.floor(GetHeight()*layer),PFXdc,0,0,GetWidth(),GetHeight(),NOTSRCCOPY)
else
EXE("StretchBlt",GDIdc,math.floor((GetWidth()-GetWidth()*layer)/2),math.floor((GetHeight()-GetHeight()*layer)/2),math.floor(GetWidth()*layer),math.floor(GetHeight()*layer),PFXdc,0,0,GetWidth(),GetHeight(),SRCCOPY)
end
end
end
function DarkenShader(t,MaxAlpha,MinAlpha)
if MaxAlpha==nil then MaxAlpha=255.0 end
if MinAlpha==nil then MinAlpha=0.0 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),BLACKNESS)
local Alpha=math.ceil((MaxAlpha-MinAlpha)*(1.0-t)+MinAlpha)
local BlendFunc=(Alpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,GetWidth(),GetHeight(),BlendFunc)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function LightenShader(t,MaxAlpha,MinAlpha)
if MaxAlpha==nil then MaxAlpha=255.0 end
if MinAlpha==nil then MinAlpha=0.0 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),WHITENESS)
local Alpha=math.ceil((MaxAlpha-MinAlpha)*(1.0-t)+MinAlpha)
local BlendFunc=(Alpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,GetWidth(),GetHeight(),BlendFunc)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function LightenFromDarkShader(t,MaxAlpha,MinAlpha)
if MaxAlpha==nil then MaxAlpha=255.0 end
if MinAlpha==nil then MinAlpha=0.0 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),BLACKNESS)
local Alpha=math.ceil((MaxAlpha-MinAlpha)*t+MinAlpha)
local BlendFunc=(Alpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,GetWidth(),GetHeight(),BlendFunc)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function DarkenFromLightShader(t,MaxAlpha,MinAlpha)
if MaxAlpha==nil then MaxAlpha=255.0 end
if MinAlpha==nil then MinAlpha=0.0 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),WHITENESS)
local Alpha=math.ceil((MaxAlpha-MinAlpha)*t+MinAlpha)
local BlendFunc=(Alpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,GetWidth(),GetHeight(),BlendFunc)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function HatchBrushShader(t,R,G,B,BkR,BkG,BkB)
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
if BkR==nil then BkR=255 end
if BkG==nil then BkG=0 end
if BkB==nil then BkB=0 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateHatchBrush",math.random(0,5),Color)
EXE("SelectObject",MEMdc,Brush)
local BkColor=(BkB&lt;&lt;16)|(BkG&lt;&lt;8)|BkR
EXE("SetBKColor",MEMdc,BkColor)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function TextShader(t,Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
if Text==nil then Text="Hello World" end
if FontHeight==nil then FontHeight=50 end
if FontWidth==nil then FontWidth=30 end
if FontWeight==nil then FontWeight=400 end
if FaceName==nil then FaceName="Fixedsys" end
if Alignment==nil then Alignment=ALIGN_LEFT|ALIGN_TOP end
if Italic==nil then Italic=0 end
if Underline==nil then Underline=0 end
if StrikeOut==nil then StrikeOut=0 end
if PosX==nil then PosX=0 end
if PosY==nil then PosY=0 end
if NoBackground==nil then NoBackground=false end
if TextR==nil then TextR=255 end
if TextG==nil then TextG=255 end
if TextB==nil then TextB=255 end
if BkR==nil then BkR=255 end
if BkG==nil then BkG=0 end
if BkB==nil then BkB=0 end
TextShaderBase(#Text,Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
end
function TypeTextShader(t,Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
if Text==nil then Text="Hello World" end
if FontHeight==nil then FontHeight=50 end
if FontWidth==nil then FontWidth=30 end
if FontWeight==nil then FontWeight=400 end
if FaceName==nil then FaceName="Fixedsys" end
if Alignment==nil then Alignment=ALIGN_LEFT|ALIGN_TOP end
if Italic==nil then Italic=0 end
if Underline==nil then Underline=0 end
if StrikeOut==nil then StrikeOut=0 end
if PosX==nil then PosX=0 end
if PosY==nil then PosY=0 end
if NoBackground==nil then NoBackground=false end
if TextR==nil then TextR=255 end
if TextG==nil then TextG=255 end
if TextB==nil then TextB=255 end
if BkR==nil then BkR=255 end
if BkG==nil then BkG=0 end
if BkB==nil then BkB=0 end
TextShaderBase(math.ceil(#Text*t),Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
end
function DeleteTextShader(t,Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
if Text==nil then Text="Hello World" end
if FontHeight==nil then FontHeight=50 end
if FontWidth==nil then FontWidth=30 end
if FontWeight==nil then FontWeight=400 end
if FaceName==nil then FaceName="Fixedsys" end
if Alignment==nil then Alignment=ALIGN_LEFT|ALIGN_TOP end
if Italic==nil then Italic=0 end
if Underline==nil then Underline=0 end
if StrikeOut==nil then StrikeOut=0 end
if PosX==nil then PosX=0 end
if PosY==nil then PosY=0 end
if NoBackground==nil then NoBackground=false end
if TextR==nil then TextR=255 end
if TextG==nil then TextG=255 end
if TextB==nil then TextB=255 end
if BkR==nil then BkR=255 end
if BkG==nil then BkG=0 end
if BkB==nil then BkB=0 end
TextShaderBase(math.ceil(#Text*(1.0-t)),Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
end
function TextShaderBase(Length,Text,FontHeight,FontWidth,FontWeight,FaceName,Alignment,Italic,Underline,StrikeOut,PosX,PosY,NoBackground,TextR,TextG,TextB,BkR,BkG,BkB)
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,GetWidth(),GetHeight(),PFXdc,0,0,SRCCOPY)
local Color=(TextB&lt;&lt;16)|(TextG&lt;&lt;8)|TextR
EXE("SetTextColor",MEMdc,Color)
if NoBackground then
EXE("SetBkMode",MEMdc,1)
else
EXE("SetBkMode",MEMdc,2)
end
local BkColor=(BkB&lt;&lt;16)|(BkG&lt;&lt;8)|BkR
EXE("SetBKColor",MEMdc,BkColor)
local Font=EXE("CreateFontA",
FontHeight,-- FontHeight
FontWidth,-- FontWidth
0,-- Escapement
0,-- Orientation
FontWeight,-- FontWeight
Italic,-- Italic
Underline,-- Underline
StrikeOut,-- StrikeOut
1,-- CharSet
0,-- OutPrecision
0,-- ClipPrecision
0,-- Quality
0,-- PitchAndFamily
FaceName)-- FaceName
EXE("SelectObject",MEMdc,Font)
MEM.Position=0
MEM.size=8
EXE("GetTextExtentPoint32A",MEMdc,Text,Length,MEM.Memory)
MEM.Position=0
local W=MEM.readDword()
local H=MEM.readDword()
MEM.Position=0
local X=math.floor(PosX)
local Y=math.floor(PosY)
if Alignment==0x0101 then
X=math.floor(PosX)
Y=math.floor(PosY)
end
if Alignment==0x0102 then
X=math.floor(PosX)
Y=math.floor(PosY-H/2)
end
if Alignment==0x0103 then
X=math.floor(PosX)
Y=math.floor(PosY-H)
end
if Alignment==0x0201 then
X=math.floor(PosX-W/2)
Y=math.floor(PosY)
end
if Alignment==0x0202 then
X=math.floor(PosX-W/2)
Y=math.floor(PosY-H/2)
end
if Alignment==0x0203 then
X=math.floor(PosX-W/2)
Y=math.floor(PosY-H)
end
if Alignment==0x0301 then
X=math.floor(PosX-W)
Y=math.floor(PosY)
end
if Alignment==0x0302 then
X=math.floor(PosX-W)
Y=math.floor(PosY-H/2)
end
if Alignment==0x0303 then
X=math.floor(PosX-W)
Y=math.floor(PosY-H)
end
EXE("TextOutA",MEMdc,X,Y,Text,Length)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",Font)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RotatePoint(X,Y,Angle,OriginX,OriginY)
return OriginX+(X-OriginX)*math.cos(Angle)-(Y-OriginY)*math.sin(Angle),OriginY+(X-OriginX)*math.sin(Angle)+(Y-OriginY)*math.cos(Angle)
end
function RadialBlurShader(t,MaxRotation,BlendAlpha,Iteration)
if MaxRotation==nil then MaxRotation=0.02 end
if BlendAlpha==nil then BlendAlpha=1&lt;&lt;6 end
if Iteration==nil then Iteration=3 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
local BlendFunc=(BlendAlpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,W,H,MEMdc2,0,0,W,H,BlendFunc)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialPaintShader(t,MaxRotation,Iteration)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialAndShader(t,MaxRotation,Iteration)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCAND)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialBlurColorBurnShader(t,MaxRotation,BlendAlpha,Iteration,R,G,B)
if MaxRotation==nil then MaxRotation=0.02 end
if BlendAlpha==nil then BlendAlpha=1&lt;&lt;6 end
if Iteration==nil then Iteration=3 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
local BlendFunc=(BlendAlpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,W,H,MEMdc2,0,0,W,H,BlendFunc)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialPaintColorBurnShader(t,MaxRotation,Iteration,R,G,B)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialAndColorBurnShader(t,MaxRotation,Iteration,R,G,B)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCAND)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialBlurWaveShader(t,MaxRotation,BlendAlpha,Iteration,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxRotation==nil then MaxRotation=0.02 end
if BlendAlpha==nil then BlendAlpha=1&lt;&lt;6 end
if Iteration==nil then Iteration=3 end
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
local BlendFunc=(BlendAlpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,W,H,MEMdc2,0,0,W,H,BlendFunc)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialPaintWaveShader(t,MaxRotation,Iteration,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialAndWaveShader(t,MaxRotation,Iteration,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCAND)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialBlurColorBurnWaveShader(t,MaxRotation,BlendAlpha,Iteration,R,G,B,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxRotation==nil then MaxRotation=0.02 end
if BlendAlpha==nil then BlendAlpha=1&lt;&lt;6 end
if Iteration==nil then Iteration=3 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
local BlendFunc=(BlendAlpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,W,H,MEMdc2,0,0,W,H,BlendFunc)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialPaintColorBurnWaveShader(t,MaxRotation,Iteration,R,G,B,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCPAINT)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function RadialAndColorBurnWaveShader(t,MaxRotation,Iteration,R,G,B,MaxWaveHeight,MinWaveHeight,ShiftingAmount)
if MaxRotation==nil then MaxRotation=0.02 end
if Iteration==nil then Iteration=3 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
if MaxWaveHeight==nil then MaxWaveHeight=10 end
if MinWaveHeight==nil then MinWaveHeight=5 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc,Brush)
EXE("PatBlt",MEMdc,0,0,GetWidth(),GetHeight(),PATINVERT)
EXE("DeleteObject",Brush)
for i=1,Iteration do
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
local Rotation=math.random(-math.abs(MaxRotation*1000.0),math.abs(MaxRotation*1000.0))/1000.0
local TopLeftX,TopLeftY=RotatePoint(0,0,Rotation,W/2,H/2)
local TopRightX,TopRightY=RotatePoint(W,0,Rotation,W/2,H/2)
local BottomLeftX,BottomLeftY=RotatePoint(0,H,Rotation,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(TopLeftX))
MEM.writeDword(math.floor(TopLeftY))
MEM.writeDword(math.floor(TopRightX))
MEM.writeDword(math.floor(TopRightY))
MEM.writeDword(math.floor(BottomLeftX))
MEM.writeDword(math.floor(BottomLeftY))
MEM.Position=0
EXE("PlgBlt",MEMdc2,MEM.Memory,MEMdc,0,0,W,H,0,0,0)
MEM.Position=0
EXE("BitBlt",MEMdc,0,0,W,H,MEMdc2,0,0,SRCAND)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
local i=0
while i&lt;=GetHeight() do
EXE("BitBlt",GDIdc,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),i,W,MaxWaveHeight,MEMdc,0,i,SRCCOPY)
i=i+math.random(MinWaveHeight,MaxWaveHeight)
end
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function InvertPolygonShader(t,MaxSides,MinSides,MaxRadius,MinRadius,MaxCount,MinCount,Delay)
if MaxSides==nil then MaxSides=10 end
if MinSides==nil then MinSides=3 end
if MaxRadius==nil then MaxRadius=400 end
if MinRadius==nil then MinRadius=100 end
if MaxCount==nil then MaxCount=3 end
if MinCount==nil then MinCount=0 end
if Delay==nil then Delay=150 end
local W=GetWidth()
local H=GetHeight()
local Count=math.random(MinCount,MaxCount)
local Polygons={}
for i=1,Count do
local Sides=math.random(MinSides,MaxSides)
local Radius=math.random(MinRadius,MaxRadius)
local X=math.random(0,W)
local Y=math.random(0,H)
local Rotation=math.random()*(2*math.pi)
local AngleStep=2*math.pi/Sides
while Radius&gt;0 do
MEM.Position=0
MEM.size=0
for i=0,Sides-1 do
MEM.size=MEM.size+8
MEM.writeDword(X+math.floor(Radius*math.cos(i*AngleStep+Rotation)))
MEM.writeDword(Y+math.floor(Radius*math.sin(i*AngleStep+Rotation)))
end
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,Sides,2))
MEM.Position=0
Radius=Radius-50
end
for i=1,Delay do
EXE("BitBlt",GDIdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for _,ThisPolygon in pairs(Polygons) do
EXE("InvertRgn",GDIdc,ThisPolygon)
end
end
end
for _,ThisPolygon in pairs(Polygons) do
EXE("DeleteObject",ThisPolygon)
end
end
function ColorPolygonShader(t,MaxSides,MinSides,MaxRadius,MinRadius,MaxCount,MinCount,Delay,R,G,B)
if MaxSides==nil then MaxSides=10 end
if MinSides==nil then MinSides=3 end
if MaxRadius==nil then MaxRadius=400 end
if MinRadius==nil then MinRadius=100 end
if MaxCount==nil then MaxCount=3 end
if MinCount==nil then MinCount=0 end
if Delay==nil then Delay=150 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
local W=GetWidth()
local H=GetHeight()
local Count=math.random(MinCount,MaxCount)
local Polygons={}
for i=1,Count do
local Sides=math.random(MinSides,MaxSides)
local Radius=math.random(MinRadius,MaxRadius)
local X=math.random(0,W)
local Y=math.random(0,H)
local Rotation=math.random()*(2*math.pi)
local AngleStep=2*math.pi/Sides
while Radius&gt;0 do
MEM.Position=0
MEM.size=0
for i=0,Sides-1 do
MEM.size=MEM.size+8
MEM.writeDword(X+math.floor(Radius*math.cos(i*AngleStep+Rotation)))
MEM.writeDword(Y+math.floor(Radius*math.sin(i*AngleStep+Rotation)))
end
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,Sides,2))
MEM.Position=0
Radius=Radius-100
end
for i=1,Delay do
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Pen=EXE("CreatePen",PS_SOLID,0,Color)
EXE("SelectObject",GDIdc,Pen)
EXE("BitBlt",GDIdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for _,ThisPolygon in pairs(Polygons) do
EXE("FrameRgn",GDIdc,ThisPolygon,Pen,25,25)
end
EXE("DeleteObject",Pen)
end
end
for _,ThisPolygon in pairs(Polygons) do
EXE("DeleteObject",ThisPolygon)
end
end
function RandomColorPolygonShader(t,MaxSides,MinSides,MaxRadius,MinRadius,MaxCount,MinCount,Delay)
if MaxSides==nil then MaxSides=10 end
if MinSides==nil then MinSides=3 end
if MaxRadius==nil then MaxRadius=400 end
if MinRadius==nil then MinRadius=100 end
if MaxCount==nil then MaxCount=3 end
if MinCount==nil then MinCount=0 end
if Delay==nil then Delay=150 end
local W=GetWidth()
local H=GetHeight()
local Count=math.random(MinCount,MaxCount)
local Polygons={}
local Colors={}
for i=1,Count do
local Sides=math.random(MinSides,MaxSides)
local Radius=math.random(MinRadius,MaxRadius)
local X=math.random(0,W)
local Y=math.random(0,H)
local Rotation=math.random()*(2*math.pi)
local AngleStep=2*math.pi/Sides
local R=math.random(0,255)
local G=math.random(0,255)
local B=math.random(0,255)
while Radius&gt;0 do
MEM.Position=0
MEM.size=0
for i=0,Sides-1 do
MEM.size=MEM.size+8
MEM.writeDword(X+math.floor(Radius*math.cos(i*AngleStep+Rotation)))
MEM.writeDword(Y+math.floor(Radius*math.sin(i*AngleStep+Rotation)))
end
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,Sides,2))
MEM.Position=0
table.insert(Colors,(B&lt;&lt;16)|(G&lt;&lt;8)|R)
Radius=Radius-100
end
for i=1,Delay do
EXE("BitBlt",GDIdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
for PolygonID,ThisPolygon in pairs(Polygons) do
local Pen=EXE("CreatePen",PS_SOLID,0,Colors[PolygonID])
EXE("SelectObject",GDIdc,Pen)
EXE("FrameRgn",GDIdc,ThisPolygon,Pen,25,25)
EXE("DeleteObject",Pen)
end
end
end
for _,ThisPolygon in pairs(Polygons) do
EXE("DeleteObject",ThisPolygon)
end
end
function InvertPolygonGlitchShader(t,MaxSides,MinSides,MaxRadius,MinRadius,MaxCount,MinCount,Delay,MaxSectionWidth,MinSectionWidth,ShiftingAmount)
if MaxSides==nil then MaxSides=10 end
if MinSides==nil then MinSides=3 end
if MaxRadius==nil then MaxRadius=400 end
if MinRadius==nil then MinRadius=100 end
if MaxCount==nil then MaxCount=3 end
if MinCount==nil then MinCount=0 end
if Delay==nil then Delay=20 end
if MaxSectionWidth==nil then MaxSectionWidth=150 end
if MinSectionWidth==nil then MinSectionWidth=10 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local Count=math.random(MinCount,MaxCount)
local Polygons={}
for i=1,Count do
local Sides=math.random(MinSides,MaxSides)
local Radius=math.random(MinRadius,MaxRadius)
local X=math.random(0,W)
local Y=math.random(0,H)
local Rotation=math.random()*(2*math.pi)
local AngleStep=2*math.pi/Sides
while Radius&gt;0 do
MEM.Position=0
MEM.size=0
for i=0,Sides-1 do
MEM.size=MEM.size+8
MEM.writeDword(X+math.floor(Radius*math.cos(i*AngleStep+Rotation)))
MEM.writeDword(Y+math.floor(Radius*math.sin(i*AngleStep+Rotation)))
end
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,Sides,2))
MEM.Position=0
Radius=Radius-50
end
for i=1,Delay do
local i=0
while i&lt;=GetWidth() do
if math.random(0,1)==0 then
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCPAINT)
else
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCAND)
end
i=i+math.random(MinSectionWidth,MaxSectionWidth)
end
for _,ThisPolygon in pairs(Polygons) do
EXE("InvertRgn",GDIdc,ThisPolygon)
end
end
end
for _,ThisPolygon in pairs(Polygons) do
EXE("DeleteObject",ThisPolygon)
end
end
function ColorPolygonGlitchShader(t,MaxSides,MinSides,MaxRadius,MinRadius,MaxCount,MinCount,Delay,R,G,B,MaxSectionWidth,MinSectionWidth,ShiftingAmount)
if MaxSides==nil then MaxSides=10 end
if MinSides==nil then MinSides=3 end
if MaxRadius==nil then MaxRadius=400 end
if MinRadius==nil then MinRadius=100 end
if MaxCount==nil then MaxCount=3 end
if MinCount==nil then MinCount=0 end
if Delay==nil then Delay=20 end
if R==nil then R=0 end
if G==nil then G=255 end
if B==nil then B=0 end
if MaxSectionWidth==nil then MaxSectionWidth=150 end
if MinSectionWidth==nil then MinSectionWidth=10 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local Count=math.random(MinCount,MaxCount)
local Polygons={}
for i=1,Count do
local Sides=math.random(MinSides,MaxSides)
local Radius=math.random(MinRadius,MaxRadius)
local X=math.random(0,W)
local Y=math.random(0,H)
local Rotation=math.random()*(2*math.pi)
local AngleStep=2*math.pi/Sides
while Radius&gt;0 do
MEM.Position=0
MEM.size=0
for i=0,Sides-1 do
MEM.size=MEM.size+8
MEM.writeDword(X+math.floor(Radius*math.cos(i*AngleStep+Rotation)))
MEM.writeDword(Y+math.floor(Radius*math.sin(i*AngleStep+Rotation)))
end
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,Sides,2))
MEM.Position=0
Radius=Radius-100
end
for i=1,Delay do
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Pen=EXE("CreatePen",PS_SOLID,0,Color)
EXE("SelectObject",GDIdc,Pen)
local i=0
while i&lt;=GetWidth() do
if math.random(0,1)==0 then
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCPAINT)
else
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCAND)
end
i=i+math.random(MinSectionWidth,MaxSectionWidth)
end
for _,ThisPolygon in pairs(Polygons) do
EXE("FrameRgn",GDIdc,ThisPolygon,Pen,25,25)
end
EXE("DeleteObject",Pen)
end
end
for _,ThisPolygon in pairs(Polygons) do
EXE("DeleteObject",ThisPolygon)
end
end
function RandomColorPolygonGlitchShader(t,MaxSides,MinSides,MaxRadius,MinRadius,MaxCount,MinCount,Delay,MaxSectionWidth,MinSectionWidth,ShiftingAmount)
if MaxSides==nil then MaxSides=10 end
if MinSides==nil then MinSides=3 end
if MaxRadius==nil then MaxRadius=400 end
if MinRadius==nil then MinRadius=100 end
if MaxCount==nil then MaxCount=3 end
if MinCount==nil then MinCount=0 end
if Delay==nil then Delay=20 end
if MaxSectionWidth==nil then MaxSectionWidth=150 end
if MinSectionWidth==nil then MinSectionWidth=10 end
if ShiftingAmount==nil then ShiftingAmount=10 end
local W=GetWidth()
local H=GetHeight()
local Count=math.random(MinCount,MaxCount)
local Polygons={}
local Colors={}
for i=1,Count do
local Sides=math.random(MinSides,MaxSides)
local Radius=math.random(MinRadius,MaxRadius)
local X=math.random(0,W)
local Y=math.random(0,H)
local Rotation=math.random()*(2*math.pi)
local AngleStep=2*math.pi/Sides
local R=math.random(0,255)
local G=math.random(0,255)
local B=math.random(0,255)
while Radius&gt;0 do
MEM.Position=0
MEM.size=0
for i=0,Sides-1 do
MEM.size=MEM.size+8
MEM.writeDword(X+math.floor(Radius*math.cos(i*AngleStep+Rotation)))
MEM.writeDword(Y+math.floor(Radius*math.sin(i*AngleStep+Rotation)))
end
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,Sides,2))
MEM.Position=0
table.insert(Colors,(B&lt;&lt;16)|(G&lt;&lt;8)|R)
Radius=Radius-100
end
for i=1,Delay do
local i=0
while i&lt;=GetWidth() do
if math.random(0,1)==0 then
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCPAINT)
else
EXE("BitBlt",GDIdc,i,math.random(-math.abs(ShiftingAmount),math.abs(ShiftingAmount)),MaxSectionWidth,GetHeight(),PFXdc,i,0,SRCAND)
end
i=i+math.random(MinSectionWidth,MaxSectionWidth)
end
for PolygonID,ThisPolygon in pairs(Polygons) do
local Pen=EXE("CreatePen",PS_SOLID,0,Colors[PolygonID])
EXE("SelectObject",GDIdc,Pen)
EXE("FrameRgn",GDIdc,ThisPolygon,Pen,25,25)
EXE("DeleteObject",Pen)
end
end
end
for _,ThisPolygon in pairs(Polygons) do
EXE("DeleteObject",ThisPolygon)
end
end
function TriangleFrameShader(t,Size,Speed,Transparency,R,G,B)
if Size==nil then Size=200 end
if Speed==nil then Speed=5 end
if Transparency==nil then Transparency=191 end
if R==nil then R=0 end
if G==nil then G=127 end
if B==nil then B=255 end
local W=GetWidth()
local H=GetHeight()
if GlobalOffset==nil then
GlobalOffset=0
end
local CurrentOffset=GlobalOffset
while CurrentOffset &gt; 0 do
CurrentOffset=CurrentOffset-Size
end
local Polygons={}
while CurrentOffset &lt;= W+Size do
local X1,Y1=CurrentOffset,Size
local X2,Y2=RotatePoint(X1,Y1,2*math.pi/3,CurrentOffset,0)
local X3,Y3=RotatePoint(X2,Y2,2*math.pi/3,CurrentOffset,0)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(X1))
MEM.writeDword(math.floor(Y1))
MEM.writeDword(math.floor(X2))
MEM.writeDword(math.floor(Y2))
MEM.writeDword(math.floor(X3))
MEM.writeDword(math.floor(Y3))
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,3,2))
X1,Y1=RotatePoint(X1,Y1,math.pi,W/2,H/2)
X2,Y2=RotatePoint(X2,Y2,math.pi,W/2,H/2)
X3,Y3=RotatePoint(X3,Y3,math.pi,W/2,H/2)
MEM.Position=0
MEM.size=24
MEM.writeDword(math.floor(X1))
MEM.writeDword(math.floor(Y1))
MEM.writeDword(math.floor(X2))
MEM.writeDword(math.floor(Y2))
MEM.writeDword(math.floor(X3))
MEM.writeDword(math.floor(Y3))
MEM.Position=0
table.insert(Polygons,EXE("CreatePolygonRgn",MEM.Memory,3,2))
CurrentOffset=CurrentOffset+Size
end
MEM.Position=0
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc,BMP)
EXE("BitBlt",MEMdc,0,0,W,H,PFXdc,0,0,SRCCOPY)
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,W,H)
EXE("SelectObject",MEMdc2,BMP2)
EXE("BitBlt",MEMdc2,0,0,W,H,PFXdc,0,0,SRCCOPY)
local Color=(B&lt;&lt;16)|(G&lt;&lt;8)|R
local Brush=EXE("CreateSolidBrush",Color)
EXE("SelectObject",MEMdc2,Brush)
for _,ThisPolygon in pairs(Polygons) do
EXE("FillRgn",MEMdc2,ThisPolygon,Brush)
EXE("DeleteObject",ThisPolygon)
end
EXE("DeleteObject",Brush)
local BlendFunc=(Transparency&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc,0,0,W,H,MEMdc2,0,0,W,H,BlendFunc)
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc,0,0,SRCCOPY)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
GlobalOffset=GlobalOffset+Speed
end
function CRTShader(t,ColorOffsetAmount,Transparency)
if ColorOffsetAmount==nil then ColorOffsetAmount=2 end
if Transparency==nil then Transparency=127 end
local W=GetWidth()
local H=GetHeight()
local MEMdc_R=EXE("CreateCompatibleDC",GDIdc)
local BMP_R=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_G=EXE("CreateCompatibleDC",GDIdc)
local BMP_G=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_B=EXE("CreateCompatibleDC",GDIdc)
local BMP_B=EXE("CreateCompatibleBitmap",GDIdc,W,H)
local MEMdc_Main=EXE("CreateCompatibleDC",GDIdc)
local BMP_Main=EXE("CreateCompatibleBitmap",GDIdc,W,H)
if Transparency&lt;255 and ColorOffsetAmount~=0 then
EXE("SelectObject",MEMdc_R,BMP_R)
local Brush=EXE("CreateSolidBrush",0x0000FF)
EXE("SelectObject",MEMdc_R,Brush)
EXE("PatBlt",MEMdc_R,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_R,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_G,BMP_G)
local Brush=EXE("CreateSolidBrush",0x00FF00)
EXE("SelectObject",MEMdc_G,Brush)
EXE("PatBlt",MEMdc_G,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_G,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_B,BMP_B)
local Brush=EXE("CreateSolidBrush",0xFF0000)
EXE("SelectObject",MEMdc_B,Brush)
EXE("PatBlt",MEMdc_B,0,0,W,H,PATCOPY)
EXE("DeleteObject",Brush)
EXE("BitBlt",MEMdc_B,0,0,W,H,PFXdc,0,0,SRCAND)
EXE("SelectObject",MEMdc_Main,BMP_Main)
EXE("BitBlt",MEMdc_Main,ColorOffsetAmount,0,W,H,MEMdc_R,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,-ColorOffsetAmount,0,W,H,MEMdc_G,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,0,ColorOffsetAmount,W,H,MEMdc_B,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,0,-ColorOffsetAmount,W,H,MEMdc_R,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,ColorOffsetAmount,-ColorOffsetAmount,W,H,MEMdc_G,0,0,SRCPAINT)
EXE("BitBlt",MEMdc_Main,-ColorOffsetAmount,ColorOffsetAmount,W,H,MEMdc_B,0,0,SRCPAINT)
if Transparency&gt;0 then
local BlendFunc=(Transparency&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc_Main,0,0,W,H,PFXdc,0,0,W,H,BlendFunc)
end
else
EXE("SelectObject",MEMdc_Main,BMP_Main)
EXE("BitBlt",MEMdc_Main,0,0,W,H,PFXdc,0,0,SRCCOPY)
end
local Brush=EXE("CreateSolidBrush",0x000000)
EXE("SelectObject",MEMdc_Main,Brush)
local i=math.random(0,2)
while i&lt;=H do
EXE("PatBlt",MEMdc_Main,0,i,W,1,PATCOPY)
i=i+3
end
EXE("DeleteObject",Brush)
EXE("BitBlt",GDIdc,0,0,W,H,MEMdc_Main,0,0,SRCCOPY)
EXE("DeleteObject",BMP_R)
EXE("DeleteDC",MEMdc_R)
EXE("DeleteObject",BMP_G)
EXE("DeleteDC",MEMdc_G)
EXE("DeleteObject",BMP_B)
EXE("DeleteDC",MEMdc_B)
EXE("DeleteObject",BMP_Main)
EXE("DeleteDC",MEMdc_Main)
end
function PixelateShader(t,Multiplier)
if Multiplier==nil then Multiplier=4 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier))
EXE("SelectObject",MEMdc,BMP)
EXE("StretchBlt",MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),PFXdc,0,0,GetWidth(),GetHeight(),SRCCOPY)
EXE("StretchBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function AlphaPixelateShader(t,Multiplier,Alpha)
if Multiplier==nil then Multiplier=4 end
if Alpha==nil then Alpha=63 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier))
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("StretchBlt",MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),PFXdc,0,0,GetWidth(),GetHeight(),SRCCOPY)
EXE("SelectObject",MEMdc2,BMP2)
EXE("StretchBlt",MEMdc2,0,0,GetWidth(),GetHeight(),MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),SRCCOPY)
local BlendFunc=(Alpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc2,0,0,GetWidth(),GetHeight(),PFXdc,0,0,GetWidth(),GetHeight(),BlendFunc)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc2,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
function BetterPixelateShader(t,Multiplier)
if Multiplier==nil then Multiplier=4 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier))
EXE("SelectObject",MEMdc,BMP)
EXE("AlphaBlend",MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),PFXdc,0,0,GetWidth(),GetHeight(),0x00FF0000)
EXE("AlphaBlend",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),0x00FF0000)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
end
function BetterAlphaPixelateShader(t,Multiplier,Alpha)
if Multiplier==nil then Multiplier=4 end
if Alpha==nil then Alpha=63 end
local MEMdc=EXE("CreateCompatibleDC",GDIdc)
local BMP=EXE("CreateCompatibleBitmap",GDIdc,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier))
local MEMdc2=EXE("CreateCompatibleDC",GDIdc)
local BMP2=EXE("CreateCompatibleBitmap",GDIdc,GetWidth(),GetHeight())
EXE("SelectObject",MEMdc,BMP)
EXE("AlphaBlend",MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),PFXdc,0,0,GetWidth(),GetHeight(),0x00FF0000)
EXE("SelectObject",MEMdc2,BMP2)
EXE("AlphaBlend",MEMdc2,0,0,GetWidth(),GetHeight(),MEMdc,0,0,math.floor(GetWidth()/Multiplier),math.floor(GetHeight()/Multiplier),0x00FF0000)
local BlendFunc=(Alpha&lt;&lt;16)|0x00000000
EXE("AlphaBlend",MEMdc2,0,0,GetWidth(),GetHeight(),PFXdc,0,0,GetWidth(),GetHeight(),BlendFunc)
EXE("BitBlt",GDIdc,0,0,GetWidth(),GetHeight(),MEMdc2,0,0,SRCCOPY)
EXE("DeleteObject",BMP)
EXE("DeleteDC",MEMdc)
EXE("DeleteObject",BMP2)
EXE("DeleteDC",MEMdc2)
end
-- Initialization:
TotalTicks=GetPPQ()*4*164
SetMicroseconds(-3*S)
SetVolume(1.00)
SetMute(0)
SetPlaybackSpeed(1.00)
SetNoteSpeed(0.35)
SetStartKey(21)
SetEndKey(108)
SetKeyMode(2)
SetOffsetX(0.00)
SetOffsetY(0.00)
SetZoom(-1.00)
SetPaused(0)
SetKeyboard(1)
SetVisualizePitchBends(1)
SetPhigrosMode(1)
SetShowMarkers(1)
SetTickBased(1)
SetDisableUI(1)
SetLimitFPS(1)
SetCaption("Welcome to Piano-FX Pro")
-- Do this if you have color events on the first tick:
SetMicroseconds(0)
while (GetMicroseconds()&lt;1) do end
SetMicroseconds(0)
-- Main Program:
createThread(function()
if readByte(ffmpeg)~=0 then SetMute(1) end
if readByte(ffmpeg)==0 then
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hPFX,MEM.Memory)
MEM.Position=0
local x=MEM.readDword()
local y=MEM.readDword()
local w=MEM.readDword()-x
local h=MEM.readDword()-y
MEM.Position=0
writeByte(FullScreen,1)
EXE("postmessagea",hPFX,0x0111,40080,0)
EXE("postmessagea",hPFX,0x0111,40080,0)
EXE("postmessagea",hPFX,0x0111,40080,0)
writeByte(FullScreen,0)
Menu=EXE("GetMenu",hPFX)
EXE("SetWindowPos",hPFX,-2,x,y,w,h,0)
CurrentCaption=getWindowCaption(hPFX)
CurrentStyle=EXE("GetWindowLongA",hPFX,-16)
writeByte(ShowToolbar,1)
writeByte(AlwaysShow,0)
EXE("SetMenu",hPFX,Menu)
writeByte(AllowSkip,1)
writeBytes(AllowPause,2)
end
ThreadList={}
table.insert(ThreadList,SmoothAnimationByTime(0,1,S,2*S,EaseOutBack,SetZoom))
table.insert(ThreadList,SmoothAnimationByTime(CenterX(0),CenterX(1),S,2*S,EaseOutBack,SetOffsetX))
table.insert(ThreadList,SmoothAnimationByTime(CenterY(0),CenterY(1),S,2*S,EaseOutBack,SetOffsetY))
table.insert(ThreadList,InstantaneousAnimationByTime("",2*S,SetCaption))
RunThreads(ThreadList)
ThreadList={}
table.insert(ThreadList,InstantaneousAnimationByTick("",GetPPQ()*4*9,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Piano Edition",GetPPQ()*4*9+GetPPQ()*2,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Made by: Happy_mimimix &amp; osprPIKA233",GetPPQ()*4*9+GetPPQ()*4,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Enjoy! ",GetPPQ()*4*9+GetPPQ()*6,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("",GetPPQ()*4*9+GetPPQ()*8,SetCaption))
RunThreads(ThreadList)
ThreadList={}
table.insert(ThreadList,InstantaneousAnimationByTick("Perhaps the most relaxing MIDI I've ever made? ",GetPPQ()*4*21,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Lose yourself in the rhythm... ",GetPPQ()*4*22,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Feel the tranquility... ",GetPPQ()*4*23,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Let your worries drift away... ",GetPPQ()*4*24,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Discover your inner peace... ",GetPPQ()*4*25,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Allow the music to guide you... ",GetPPQ()*4*26,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Embrace the calm... ",GetPPQ()*4*27,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Sit back and relax... ",GetPPQ()*4*28,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("Congrats! You've just fallen into my fantastic trap! LOL",GetPPQ()*4*28+GetPPQ()*2,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick("",GetPPQ()*4*29+GetPPQ()*2,SetCaption))
table.insert(ThreadList,InstantaneousAnimationByTick(0,GetPPQ()*4*28+GetPPQ()*2,SetStartKey)) -- A smooth 88 -&gt; 128 transition
table.insert(ThreadList,InstantaneousAnimationByTick(127,GetPPQ()*4*28+GetPPQ()*2,SetEndKey))
table.insert(ThreadList,SmoothAnimationByTick(128/88,1,GetPPQ()*4*28+GetPPQ()*2,GetPPQ()*4*29+GetPPQ()*2,EaseOutQuart,SetZoom))
table.insert(ThreadList,SmoothAnimationByTick(CenterX(129/88),0,GetPPQ()*4*28+GetPPQ()*2,GetPPQ()*4*29+GetPPQ()*2,EaseOutQuart,SetOffsetX))
table.insert(ThreadList,InstantaneousAnimationByTick(0,GetPPQ()*4*29+GetPPQ()*2,SetDisableUI))
table.insert(ThreadList,InstantaneousAnimationByTick(1,GetPPQ()*4*29+GetPPQ()*2,SetShowMarkers))
RunThreads(ThreadList)
if readByte(ffmpeg)==0 then
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hGFX,MEM.Memory)
MEM.Position=0
local x1=MEM.readDword()
local y1=MEM.readDword()
local w1=MEM.readDword()-x1
local h1=MEM.readDword()-y1
MEM.Position=0
writeByte(FullScreen,0)
EXE("SetMenu",hPFX,0)
--writeByte(AllowSkip,0)
--writeBytes(AllowPause,0)
AltEnterHook=createHotkey(function()
if getForegroundWindow()==hPFX then
for i = 1,10 do
EXE("SetMenu",hPFX,0)
end
end
end,{0x12,0x0D})
EXE("SetWindowTextA",hPFX,"You are now trapped inside Piano FX Pro forever and ever... ")
EXE("SetWindowLongA",hPFX,-16,CurrentStyle&amp;(~0x00080000))
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hGFX,MEM.Memory)
MEM.Position=0
local x2=MEM.readDword()
local y2=MEM.readDword()
local w2=MEM.readDword()-x2
local h2=MEM.readDword()-y2
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hPFX,MEM.Memory)
MEM.Position=0
local xm=MEM.readDword()
local ym=MEM.readDword()
local wm=MEM.readDword()-xm
local hm=MEM.readDword()-ym
MEM.Position=0
EXE("SetWindowPos",hPFX,-2,xm,ym+(h2-h1),wm,hm-(h2-h1),0)
end
function bump(start)
table.insert(ThreadList,SmoothAnimationByTick(1,0.9,start,start+GetPPQ()/2,EaseOutQuart,SetZoom))
table.insert(ThreadList,SmoothAnimationByTick(0.9,1,start+GetPPQ()/2,start+GetPPQ(),EaseOutQuart,SetZoom))
table.insert(ThreadList,SmoothAnimationByTick(0,CenterY(0.9),start,start+GetPPQ()/2,EaseOutQuart,SetOffsetY))
table.insert(ThreadList,SmoothAnimationByTick(CenterY(0.9),1,start+GetPPQ()/2,start+GetPPQ(),EaseOutQuart,SetOffsetY))
table.insert(ThreadList,SmoothAnimationByTick(0,CenterX(0.9),start,start+GetPPQ()/2,EaseOutQuart,SetOffsetX))
table.insert(ThreadList,SmoothAnimationByTick(CenterX(0.9),1,start+GetPPQ()/2,start+GetPPQ(),EaseOutQuart,SetOffsetX))
end
ThreadList={}
bump(GetPPQ()*4*29+GetPPQ()*2)
bump(GetPPQ()*4*29+GetPPQ()*3+GetPPQ()/2)
bump(GetPPQ()*4*30+GetPPQ())
bump(GetPPQ()*4*30+GetPPQ()+GetPPQ()/2)
bump(GetPPQ()*4*30+GetPPQ()*2)
bump(GetPPQ()*4*30+GetPPQ()*3+GetPPQ()/2)
bump(GetPPQ()*4*31+GetPPQ())
bump(GetPPQ()*4*31+GetPPQ()+GetPPQ()/2)
bump(GetPPQ()*4*31+GetPPQ()*2)
bump(GetPPQ()*4*31+GetPPQ()*3+GetPPQ()/2)
bump(GetPPQ()*4*32+GetPPQ())
bump(GetPPQ()*4*32+GetPPQ()+GetPPQ()/2)
bump(GetPPQ()*4*32+GetPPQ()*2)
bump(GetPPQ()*4*32+GetPPQ()*2+GetPPQ()/4*3)
bump(GetPPQ()*4*32+GetPPQ()*3+GetPPQ()/2)
bump(GetPPQ()*4*33+GetPPQ()/4)
bump(GetPPQ()*4*33+GetPPQ())
bump(GetPPQ()*4*33+GetPPQ()+GetPPQ()/4)
bump(GetPPQ()*4*33+GetPPQ()+GetPPQ()/4*2)
bump(GetPPQ()*4*33+GetPPQ()+GetPPQ()/4*3)
bump(GetPPQ()*4*33+GetPPQ()*2)
bump(GetPPQ()*4*33+GetPPQ()*2+GetPPQ()/4*3)
bump(GetPPQ()*4*33+GetPPQ()*3+GetPPQ()/2)
bump(GetPPQ()*4*34+GetPPQ()/4)
bump(GetPPQ()*4*34+GetPPQ())
bump(GetPPQ()*4*34+GetPPQ()+GetPPQ()/2)
bump(GetPPQ()*4*34+GetPPQ()+GetPPQ()/4*3)
bump(GetPPQ()*4*34+GetPPQ()*2)
bump(GetPPQ()*4*34+GetPPQ()*2+GetPPQ()/4*3)
bump(GetPPQ()*4*34+GetPPQ()*3+GetPPQ()/2)
bump(GetPPQ()*4*35+GetPPQ()/4)
bump(GetPPQ()*4*35+GetPPQ())
bump(GetPPQ()*4*35+GetPPQ()+GetPPQ()/4)
bump(GetPPQ()*4*35+GetPPQ()+GetPPQ()/4*2)
bump(GetPPQ()*4*35+GetPPQ()+GetPPQ()/4*3)
bump(GetPPQ()*4*35+GetPPQ()*2)
RunThreads(ThreadList)
ThreadList={}
table.insert(ThreadList,SlicedSmoothAnimationByTick(
1,
0.8,
GetPPQ()*4*35+GetPPQ()*2,
GetPPQ()*4*36+GetPPQ()*2,
GetPPQ()/4,
EaseInQuad,
SetZoom
))
table.insert(ThreadList,SlicedSmoothAnimationByTick(
0,
CenterX(0.8)-300,
GetPPQ()*4*35+GetPPQ()*2,
GetPPQ()*4*36+GetPPQ()*2,
GetPPQ()/4,
EaseInQuad,
SetOffsetX
))
table.insert(ThreadList,SlicedSmoothAnimationByTick(
0,
CenterX(0.8)+300,
GetPPQ()*4*35+GetPPQ()*2+GetPPQ()/8,
GetPPQ()*4*36+GetPPQ()*2+GetPPQ()/8,
GetPPQ()/4,
EaseInQuad,
SetOffsetX
))
table.insert(ThreadList,SlicedSmoothAnimationByTick(
1,
CenterY(0.8),
GetPPQ()*4*35+GetPPQ()*2,
GetPPQ()*4*36+GetPPQ()*2,
GetPPQ()/4,
EaseInQuad,
SetOffsetY
))
table.insert(ThreadList,InstantaneousAnimationByTick(
CenterX(0.8),
GetPPQ()*4*36+GetPPQ()*2+GetPPQ()/2,
SetOffsetX
))
RunThreads(ThreadList)
ThreadList={}
start=GetPPQ()*4*37
while start&lt;=GetPPQ()*4*52 do
table.insert(ThreadList,SmoothAnimationByTick(CenterY(0.9),CenterY(0.8)-50,start,start+GetPPQ()/2,EaseOutQuart,SetOffsetY))
table.insert(ThreadList,SmoothAnimationByTick(CenterY(0.9)-100,CenterY(0.8),start+GetPPQ()/2,start+GetPPQ(),EaseOutQuart,SetOffsetY))
start=start+GetPPQ()
end
table.insert(ThreadList,SmoothAnimationByTick(0.35,0.8,GetPPQ()*4*51+GetPPQ()/2,GetPPQ()*4*52+GetPPQ()*2,EaseOutSine,SetNoteSpeed))
table.insert(ThreadList,SmoothAnimationByTick(0.8,0.2,GetPPQ()*4*52+GetPPQ()*2,GetPPQ()*4*53+GetPPQ()*2,EaseOutSine,SetNoteSpeed))
RunThreads(ThreadList)
ThreadList={}
start=GetPPQ()*4*53+GetPPQ()*2
while start&lt;=GetPPQ()*4*69 do
table.insert(ThreadList,SmoothAnimationByTick(CenterX(GetZoom())+30,CenterX(GetZoom())-30,start,start+GetPPQ(),EaseOutSine,SetOffsetX))
table.insert(ThreadList,SmoothAnimationByTick(CenterX(GetZoom())-30,CenterX(GetZoom())+30,start+GetPPQ(),start+GetPPQ()*2,EaseOutSine,SetOffsetX))
start=start+GetPPQ()*2
end
start=GetPPQ()*4*53+GetPPQ()*2
while start&lt;=GetPPQ()*4*69 do
table.insert(ThreadList,SmoothAnimationByTick(CenterY(GetZoom())+30,CenterY(GetZoom())-30,start,start+GetPPQ()*3/2,EaseOutSine,SetOffsetY))
table.insert(ThreadList,SmoothAnimationByTick(CenterY(GetZoom())-30,CenterY(GetZoom())+30,start+GetPPQ()*3/2,start+GetPPQ()*3,EaseOutSine,SetOffsetY))
start=start+GetPPQ()*3
end
table.insert(ThreadList,SmoothAnimationByTick(0.2,0.8,GetPPQ()*4*68+GetPPQ()*2,GetPPQ()*4*69+GetPPQ()*2,EaseInExpo,SetNoteSpeed))
table.insert(ThreadList,TargetAnimationByTick(GetZoom,1.0,GetPPQ()*4*69+GetPPQ()*2,GetPPQ()*4*70,EaseOutQuad,SetZoom))
table.insert(ThreadList,TargetAnimationByTick(GetOffsetX,0,GetPPQ()*4*69+GetPPQ()*2,GetPPQ()*4*70,EaseOutQuad,SetOffsetX))
table.insert(ThreadList,TargetAnimationByTick(GetOffsetY,0,GetPPQ()*4*69+GetPPQ()*2,GetPPQ()*4*70,EaseOutQuad,SetOffsetY))
RunThreads(ThreadList)
function shake(start)
table.insert(ThreadList,SlicedSmoothAnimationByTick(
-100,
0,
start,
start+GetPPQ()*2,
GetPPQ()/4,
EaseInQuad,
SetOffsetX
))
table.insert(ThreadList,SlicedSmoothAnimationByTick(
100,
0,
start+GetPPQ()/8,
start+GetPPQ()*2+GetPPQ()/8,
GetPPQ()/4,
EaseInQuad,
SetOffsetX
))
end
function drop(start)
table.insert(ThreadList,SmoothAnimationByTick(
0,
50,
start,
start+GetPPQ()/2,
EaseInQuad,
SetOffsetY
))
table.insert(ThreadList,SmoothAnimationByTick(
50,
0,
start+GetPPQ()/2,
start+GetPPQ(),
EaseInQuad,
SetOffsetY
))
end
ThreadList={}
table.insert(ThreadList,SmoothAnimationByTick(0.8,0.2,GetPPQ()*4*73,GetPPQ()*4*73+GetPPQ()*2,EaseOutSine,SetNoteSpeed))
shake(GetPPQ()*4*73+GetPPQ()*2)
shake(GetPPQ()*4*74+GetPPQ()*2)
shake(GetPPQ()*4*75+GetPPQ()*2)
table.insert(ThreadList,SmoothAnimationByTick(0.2,0.8,GetPPQ()*4*76+GetPPQ()*2,GetPPQ()*4*77,EaseInSine,SetNoteSpeed))
table.insert(ThreadList,TargetAnimationByTick(GetZoom,0.6,GetPPQ()*4*76+GetPPQ()*2,GetPPQ()*4*77,EaseOutQuart,SetZoom))
table.insert(ThreadList,TargetAnimationByTick(GetOffsetX,CenterX(0.6),GetPPQ()*4*76+GetPPQ()*2,GetPPQ()*4*77,EaseOutQuart,SetOffsetX))
table.insert(ThreadList,TargetAnimationByTick(GetOffsetY,-20,GetPPQ()*4*76+GetPPQ()*2,GetPPQ()*4*77,EaseOutQuart,SetOffsetY))
start=GetPPQ()*4*77
while start+GetPPQ()*2&lt;=GetPPQ()*4*84+GetPPQ()*2 do
table.insert(ThreadList,SmoothAnimationByTick(CenterX(0.6)-50,CenterX(0.6)+50,start,start+GetPPQ(),EaseInOutSine,SetOffsetX))
table.insert(ThreadList,SmoothAnimationByTick(CenterX(0.6)+50,CenterX(0.6)-50,start+GetPPQ(),start+GetPPQ()*2,EaseInOutSine,SetOffsetX))
start=start+GetPPQ()*2
end
table.insert(ThreadList,SmoothAnimationByTick(0.8,0.1,GetPPQ()*4*84+GetPPQ()*2,GetPPQ()*4*85+GetPPQ()*2,EaseOutQuart,SetNoteSpeed))
table.insert(ThreadList,TargetAnimationByTick(GetZoom,1,GetPPQ()*4*84+GetPPQ()*2,GetPPQ()*4*85+GetPPQ()*2,EaseOutQuart,SetZoom))
table.insert(ThreadList,TargetAnimationByTick(GetOffsetX,0,GetPPQ()*4*84+GetPPQ()*2,GetPPQ()*4*85+GetPPQ()*2,EaseOutQuart,SetOffsetX))
table.insert(ThreadList,TargetAnimationByTick(GetOffsetY,0,GetPPQ()*4*84+GetPPQ()*2,GetPPQ()*4*85+GetPPQ()*2,EaseOutQuart,SetOffsetY))
drop(GetPPQ()*4*85+GetPPQ()*2)
drop(GetPPQ()*4*85+GetPPQ()*3+GetPPQ()/2)
drop(GetPPQ()*4*86+GetPPQ())
drop(GetPPQ()*4*86+GetPPQ()+GetPPQ()/2)
drop(GetPPQ()*4*86+GetPPQ()*2)
drop(GetPPQ()*4*86+GetPPQ()*3+GetPPQ()/2)
table.insert(ThreadList,SmoothAnimationByTick(0.1,0.5,GetPPQ()*4*87+GetPPQ(),GetPPQ()*4*87+GetPPQ()*2,EaseOutQuart,SetNoteSpeed))
table.insert(ThreadList,SmoothAnimationByTick(1,1.3,GetPPQ()*4*87+GetPPQ(),GetPPQ()*4*87+GetPPQ()*2,EaseOutQuart,SetZoom))
table.insert(ThreadList,SmoothAnimationByTick(0.5,0.3,GetPPQ()*4*89,GetPPQ()*4*89+GetPPQ()*2,EaseOutQuart,SetNoteSpeed))
table.insert(ThreadList,SmoothAnimationByTick(1.3,1,GetPPQ()*4*89,GetPPQ()*4*89+GetPPQ()*2,EaseOutQuart,SetZoom))
RunThreads(ThreadList)
while GetTicks()&lt;TotalTicks do end
if readByte(ffmpeg)==0 then
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hGFX,MEM.Memory)
MEM.Position=0
local x1=MEM.readDword()
local y1=MEM.readDword()
local w1=MEM.readDword()-x1
local h1=MEM.readDword()-y1
MEM.Position=0
writeByte(FullScreen,0)
EXE("SetMenu",hPFX,Menu)
writeByte(AllowSkip,1)
writeBytes(AllowPause,2)
AltEnterHook.destroy()
EXE("SetWindowTextA",hPFX,CurrentCaption)
EXE("SetWindowLongA",hPFX,-16,CurrentStyle|0x00080000)
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hGFX,MEM.Memory)
MEM.Position=0
local x2=MEM.readDword()
local y2=MEM.readDword()
local w2=MEM.readDword()-x2
local h2=MEM.readDword()-y2
MEM.Position=0
MEM.size=16
EXE("GetWindowRect",hPFX,MEM.Memory)
MEM.Position=0
local xm=MEM.readDword()
local ym=MEM.readDword()
local wm=MEM.readDword()-xm
local hm=MEM.readDword()-ym
MEM.Position=0
EXE("SetWindowPos",hPFX,-2,xm,ym+(h2-h1),wm,hm-(h2-h1),0)
end
end).resume()

</LuaScript>
</CheatTable>
